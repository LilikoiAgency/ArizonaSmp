var exitPopUpIsVisible=!1,ispopup=!1;let VERT_CONTAINER=document.getElementById("vertical_container"),SEARCHPARAMS=new URLSearchParams(window.location.search),DEVICETYPE=()=>{let e=["Android","iPhone","iPad","Kindle","Silk","BlackBerry","Mobile"],t=navigator.userAgent,a=t.substring(t.indexOf("(")+1,t.indexOf(";"));for(let l=0;l<e.length;l++){let i=e[l];if(t.search(i)>-1){a=i;break}}return"X11"==a?"Linux":"Silk"==a?a+" (Amazon)":a};var defaultAction="",popIsOpen=!1,referrer=""!=document.referrer?document.referrer.substring(0,parseInt(document.referrer.indexOf("?")>-1?document.referrer.indexOf("?"):document.referrer.length-1)):location.hostname+(location.pathname?location.pathname:""),isVisible=document.getElementById("location_form")?"":document.getElementById("refer_friend_form")?"":"is-visible";let _HOME=window.location.hostname,_PROTOCOL=window.location.protocol,VERTICAL_FORM=`<form id="__semper_solaris_sf_form_v" class="__semper_solaris_sf_form ${isVisible}" data-parent="sidebar" action="${defaultAction}" method="POST"> <input type="hidden" name="oid" value="00D1a000000H6Ki"> <input type="hidden" name="retURL" value="${_PROTOCOL}//${_HOME}/thank-you/"> <input type="hidden" name="formName" value="__semper_solaris_sf_form_v"/> <input type="hidden" name="formInstance" id="formInstance" value="sidebar"/> <input type="hidden" name="deviceType" value="${DEVICETYPE()}"/> <fieldset> <legend class="px-2">Your Info:</legend> <div class="grid-container"> <label for="first_name_v"> <span class="label-text">First Name <small><em>(required)</em></small></span> <input id="first_name_v" maxlength="40" name="first_name" size="20" type="text" required aria-label="First Name (required)" placeholder="First Name (required)"/> </label> <label for="last_name_v"> <span class="label-text">Last Name <small><em>(required)</em></small></span> <input id="last_name_v" maxlength="80" name="last_name" size="20" type="text" required aria-label="Last Name (required)" placeholder="Last Name (required)"/> </label> </div><label for="email_v"> <span class="label-text">Email <small><em>(required)</em></small></span> <input id="email_v" maxlength="80" name="email" size="20" type="email" required aria-label="Email (required)" placeholder="Email (required)"/> </label> <div class="grid-container"> <label for="phone_v"> <span class="label-text">Phone <small><em>(required)</em></small></span> <input id="phone_v" maxlength="40" name="phone" size="20" type="text" required aria-label="Phone Number (required)" placeholder="Phone Number (required)"/> </label> <label for="zip_v"> <span class="label-text">ZIP Code <small><em>(required)</em></small></span> <input id="zip_v" class="w-100" maxlength="20" name="zip" size="20" type="text" required aria-label="ZIP Code (required)" placeholder="Zip Code (required)"/> </label> </div></fieldset> <fieldset> <legend class="px-2">How Can We Help?</legend> <label for="00N1a000008Wmel_v"> <span class="label-text">What is the best day and time frame? <small><em>(required)</em></small></span> <input id="00N1a000008Wmel_v" maxlength="50" name="00N1a000008Wmel" size="20" type="text" required aria-label="What Is the Best Day and Time to Reach You? (required)" placeholder="What is the best day and time frame? (required)"/> </label> <label for="00N1a000008Wmeg_v"> What is the best way to reach you? <small><em>(required)</em></small> <select id="00N1a000008Wmeg_v" name="00N1a000008Wmeg" title="What is the best way to reach you? (required)" required aria-label="Best Way to Reach You (required)"> <option value="">--None--</option> <option value="Call">Call</option> <option value="Text">Text</option> <option value="Email">Email</option> <option value="All">All</option> </select> </label> <label for="00N1a000008Wmeq_v"> <span class="label-text">How did you hear about us?</span> <input id="00N1a000008Wmeq_v" maxlength="255" name="00N1a000008Wmeq" size="20" type="text" aria-label="How Did You Hear about Us?" placeholder="How Did You Hear about Us?"/> </label> <label for="00N1a000004puqd_v"> <span class="label-text">Message: <small><em>(required)</em></small></span> <textarea id="00N1a000004puqd_v" style="width:100%" name="00N1a000004puqd" maxlength="5000" rows="2" wrap="soft" required aria-label="Solar, Battery Storage, Roofing, .What's your interest? (required)" placeholder="Solar, Battery Storage, Roofing, .What's your interest? (required)"></textarea> </label> </fieldset> <br/> <div class="recaptcha_render recaptcha-logo rounded"></div><br/> <div style="display:flex;"> <style>@media screen and (min-width: 768px){[name="emailOptOut"]{max-width: 15px; margin: 0 3px 0 0;}}</style> <label for="emailOptOut_v" style="margin-top:-5px"> <input id="emailOptOut_v" name="emailOptOut" type="checkbox" style="width:auto" aria-label="Is it okay to email you information?"/> Is it OK to email you information? </label> </div><div id="submit_container_v"> <input style="width:100%;padding:20px" value="Submit" type="submit" name="formSubmitBtn" class="btn btn-red" disabled="" aria-label="Submit Form"/> </div><p style="font: normal normal normal 12px/12px Barlow, sans-serif">By clicking, you agree to receive marketing emails, text messages, and phone calls and chats are recorded. You may opt-out at anytime.</p><input type="hidden" id="current_page" name="current_page" value="${document.location}"/> <input type="hidden" id="referrer" name="referrer" value="${referrer+location.search}"/> <input type="hidden" id="lead_source_v" name="lead_source" value="WEBSITE CONTACT US ALL"/> </form>`,POPUP_FORM=`<form id="__semper_solaris_sf_form_p" class="__semper_solaris_sf_form" data-parent="popup" action="${defaultAction}" method="POST"> <input type="hidden" name="oid" value="00D1a000000H6Ki"/> <input type="hidden" name="retURL" value="${_PROTOCOL}//${_HOME}/thank-you/"/> <input type="hidden" name="formName" value="__semper_solaris_sf_form_p"/> <input type="hidden" name="formInstance" id="formInstance" value="popup"/> <input type="hidden" name="deviceType" value="${DEVICETYPE()}"/> <div> <label for="first_name_p"> <input id="first_name_p" maxlength="40" name="first_name" size="20" type="text" required aria-label="First Name (required)" placeholder="First Name (required)"/> </label> <label for="last_name_p"> <input id="last_name_p" maxlength="80" name="last_name" size="20" type="text" required aria-label="Last Name (required)" placeholder="Last Name (required)"/> </label> </div><label for="email_p"> <input id="email_p" maxlength="80" name="email" size="20" type="email" required aria-label="Email (required)" placeholder="Email (required)"/> </label> <div> <label for="phone_p"> <input id="phone_p" maxlength="40" name="phone" size="20" type="text" required aria-label="Phone Number (required)" placeholder="Phone Number (required)"/> </label> <label for="zip_p"> <input id="zip_p" class="w-100" maxlength="20" name="zip" size="20" type="text" required aria-label="ZIP Code (required)" placeholder="Zip Code (required)"/> </label> </div><!-- <label for="00N1a000008Wmel_p"> <input id="00N1a000008Wmel_p" maxlength="50" name="00N1a000008Wmel" size="20" type="text" required aria-label="What Is the Best Day and Time to Reach You? (required)" placeholder="What is the best day and time frame? (required)"/> </label> --> <label for="00N1a000008Wmel_p" style="display:flex;flex-direction:row"> <div style="font-size: 11pt;line-height: 1;margin-top: 3px;">Best Time To Reach You?</div><input id="00N1a000008Wmel_p" name="00N1a000008Wmel" type="datetime-local" aria-label="What Is the Best Day and Time to Reach You? (required)"/> </label> <label for="00N1a000008Wmeq_p"> <input id="00N1a000008Wmeq_p" maxlength="255" name="00N1a000008Wmeq" size="20" type="text" aria-label="How Did You Hear about Us?" placeholder="How Did You Hear about Us? (required)" required/> </label><!-- <label for="00N1a000008Wmeg_p"> <select id="00N1a000008Wmeg_p" name="00N1a000008Wmeg" title="What is the best way to reach you? (required)" required aria-label="Best Way to Reach You (required)"> <option value="">What is the best way to reach you? (required)</option> <option value="Call">Call</option> <option value="Text">Text</option> <option value="Email">Email</option> <option value="All">All</option> </select> </label> --> <div class="radio-container text-center"> <label for="00N1a000008Wmeg"><input id="call-me" type="radio" name="00N1a000008Wmeg" value="Call me"/>Call me</label> <label for="00N1a000008Wmeg"><input id="text-me" type="radio" name="00N1a000008Wmeg" value="Text me"/>Text me</label> <label for="00N1a000008Wmeg"><input id="email-me" type="radio" name="00N1a000008Wmeg" value="Email me"/>Email me</label> <label for="00N1a000008Wmeg"><input id="call-text-email" type="radio" name="00N1a000008Wmeg" value="Call, Text, and/or Email me"/>All</label> </div><div class="interest-label">Whatâ€™s your interest? (required):</div><div class="interest-container"> <label for="solar"> <input id="" type="checkbox" name="solar" value="Solar"/> Solar</label> <label for="battery"> <input id="" type="checkbox" name="battery" value="Battery Storage"/>Battery Storage </label> <label for="roofing"> <input id="" type="checkbox" name="roofing" value="Roofing"/> Roofing </label> </div><input type="hidden" id="00N1a000004puqd_p" name="00N1a000004puqd" required/><!-- <label for="00N1a000004puqd_p"> <textarea id="00N1a000004puqd_p" style="width:100%" name="00N1a000004puqd" maxlength="5000" rows="2" wrap="soft" required aria-label="Solar, Battery Storage, Roofing, .What's your interest? (required)" placeholder="Solar, Battery Storage, Roofing, .What's your interest? (required)"></textarea> </label> --> <div style="display:flex"> <style>@media screen and (min-width: 768px){[name="emailOptOut"]{max-width: 15px; margin: 0 3px 0 0;}}</style> <label for="emailOptOut_p" style="margin: 0 auto 5px;font-size: 11pt;"> <input id="emailOptOut_p" name="emailOptOut" type="checkbox" style="width:auto" aria-label="Is it okay to email you information?"/> Is it OK to email you information? </label> </div><div class="recaptcha_render recaptcha-logo rounded"></div><div id="submit_container_p"> <img loading="lazy" src="https://www.sempersolaris.com/wp-content/themes/semper-solaris/assets/img/location/SMP-CTA-White-Arrow.svg" class="submit-arrow" alt="Right arrow" width="21px" height="21px"> <input class="btn btn-red" type="submit" name="formSubmitBtn" disabled="" aria-label="Submit Form" value="Get FREE Estimate"/> </div><p class="text-center" style="margin:0;font: normal normal normal 8pt/8pt Barlow, sans-serif">By clicking, you agree to receive marketing emails, text messages, and phone calls and chats are recorded. You may opt-out at anytime.</p><input type="hidden" id="current_page" name="current_page" value="${document.location}"/> <input type="hidden" id="referrer" name="referrer" value="${referrer+location.search}"/> <input type="hidden" id="lead_source_p" name="lead_source" value="WEBSITE POPUP ALL"/> </form>`;function updateInterests(){let e=document.querySelectorAll('.interest-container input[type="checkbox"]'),t=document.getElementById("00N1a000004puqd_p");t.value="Interested in: ",e.forEach(e=>{!0==e.checked&&(t.value+=e.value+", ")}),t.value&&(t.value=t.value.substring(0,t.value.length-2))}!function(){if(VERT_CONTAINER){let e=`<div class="smp-form side-contact-form blue-bg-g section-xs text-white" style="min-height:1140px"><p class="h4 mb-sm">Let's talk about how much you can save with Semper Solaris.</p>${VERTICAL_FORM}</div>`;VERT_CONTAINER.insertAdjacentHTML("beforeend",e)}}(),document.body.insertAdjacentHTML("beforeend",`<div id="modal_background"></div><div id="modal_container"> <div id="modal_close_x">+</div><div id="modal_content_container"> <div class="form-header-container-mobile"> <div> <div class="text-white"> <h3 class="text-center">Weâ€™re At Your Side Every&nbsp;Step&nbsp;Of&nbsp;The&nbsp;Way!</h3> <ul> <li>System Solar Panel Design</li><li>City Permit Completion</li><li>Expert Solar Panel Installation</li></ul> <div> <p class="text-center" style="font-size:.9em;margin:3px 0 0">The Only Team You Want</p><p style="font-size:.9em;margin:3px 0 0 2em;line-height: 1;">On The Job</p></div><div style="position: absolute;"> <img src="https://www.sempersolaris.com/wp-content/themes/semper-solaris/forms/01-23-SMP-Oorah-Text-Jan2023.svg" width="60" style="position: relative;left: 100%; transform: translate(100%, -80%);" /> </div></div><img src="https://www.sempersolaris.com/wp-content/themes/semper-solaris/forms/01-23-SMP-Form-Solar-Installers-Image-Mobile-Jan2023.jpg" width="137" height="184" style="min-width: 137px;height: 184px;"/> </div><p class="save-big-mobile text-center"><strong><span style="color:#CE0109">SAVE BIG</span> On Solar Energy Today!</strong></p></div><div class="form-header-container-desktop"> <h2 class="text-center">AMERICAâ€™S #1 SOLAR + BATTERY INSTALLER</h2> </div><div class="container-desktop"> <div style="max-height:629px; background-color:#0c4e97;"> <img src="https://www.sempersolaris.com/wp-content/themes/semper-solaris/forms/01-23-SMP-Form-Solar-Installers-Image-Desktop-Jan2023.jpg" width="500" height="305"/> <div class="content-container"> <h2 class="text-center">Semper Solaris Is At Your Side Every Step Of The Way!</h2> <ul> <li>System Solar Panel Design</li><li>City Permit Completion</li><li>Expert Solar Panel Installation</li></ul> <div class="oorah"> <p>The Only Team You Want On The Job</p><img src="https://www.sempersolaris.com/wp-content/themes/semper-solaris/forms/01-23-SMP-Oorah-Text-Jan2023.svg" width="80"/></div></div></div><div><p class="save-big text-center"><strong><span style="color:#CE0109">SAVE BIG</span> On Solar Energy Today!</strong></p>${POPUP_FORM}</div></div></div></div>`);var checkboxes=document.querySelectorAll('.interest-container input[type="checkbox"]');function setLocationLeadSource(){document.getElementById("location_lead_source")&&document.querySelectorAll('[id^="lead_source"]').forEach(e=>{e.removeAttribute("value"),e.setAttribute("value",document.getElementById("location_lead_source").dataset.leadSource)})}function toggleIsVisibleClass(){document.querySelectorAll("form.__semper_solaris_sf_form").forEach(e=>{e.classList.toggle("is-visible")})}function closePopupModal(){popIsOpen=!popIsOpen,toggleIsVisibleClass(),document.getElementById("modal_background").removeAttribute("style"),document.getElementById("modal_container").removeAttribute("style");var e=new Date;e.setTime(e.getTime()+3e5);var t="expires="+e.toUTCString();document.cookie="popupPause=true;"+t+"; path=/"}function areFieldsEmpty(){let e=document.querySelectorAll('.__semper_solaris_sf_form input:not([type="hidden"]):not([type="submit"]):not([id^="emailOptOut"]):not(#location_form input[type="checkbox"]):not([type="radio"]):not([type="checkbox"]), .__semper_solaris_sf_form textarea'),t=!0;return e.forEach(e=>{""!=e.value&&(t=!1)}),t}function openPopupModal(e=0){if(!0==exitPopUpIsVisible||getCookie("popupPause")&&0===e||!areFieldsEmpty())return;popIsOpen=!popIsOpen;let t=document.getElementById("modal_background");t&&!t.getAttribute("style")&&(document.getElementById("modal_background").setAttribute("style","display:block;"),document.getElementById("modal_container").setAttribute("style","display:block;"),setTimeout(()=>{document.getElementById("modal_background").setAttribute("style","display:block;opacity:1;transition:all .5s ease-in-out;"),document.getElementById("modal_container").setAttribute("style","display:block;opacity:1;transition:all .5s ease-in-out;")},50),toggleIsVisibleClass())}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),l=0;l<a.length;l++){for(var i=a[l];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function prepareFormData(e){var t=new FormData(e);t.append("trustedform_cert_url",t.get("00N1P00000A2CfC")),t.append("query_parameters",new URLSearchParams(window.location.search));var a=[];for(let[l,i]of t){var r="";let o=l.substring(l.length-2,l.length);r="_v"==o||"_h"==o||"_p"==o?l.substring(0,l.length-2):l,a.push(r+"="+encodeURIComponent(i))}return a.join("&")}function loopUpFromSubmitButtonToParentFormElement(e){for(;"FORM"!=e.tagName.toUpperCase();)e=e.parentElement;return e}function setFormEventListeners(){document.querySelectorAll('form.__semper_solaris_sf_form [type="submit"]').forEach((e,t)=>{e.addEventListener("click",function(e){var t=loopUpFromSubmitButtonToParentFormElement(this);if(this.dataset.ready){if("1"==this.dataset.ready){e.preventDefault();setLocalStorageData(prepareFormData(t)),t.insertAdjacentHTML("beforeend",'<input type="hidden" name="action" value="submit" />'),this.dataset.ready=2,t.submit()}}else{if(e.preventDefault(),!verificationToken&&!1==ispopup&&"exit-pop-up-form"!=t.id){alert("Please complete the reCaptcha challenge. Thanks!");return}if(document.getElementsByClassName("email-format-error")[0]){alert("Please provide a valid email address. Thank you!");return}this.dataset.ready=1,this.click()}})})}function returnInputFields(e){var t="?page_name="+location.hostname+location.pathname+"&";if(SEARCHPARAMS)for(let a of SEARCHPARAMS.keys())t+=a+"="+SEARCHPARAMS.get(a)+"&";return(!SEARCHPARAMS||SEARCHPARAMS.get("referrer"))&&SEARCHPARAMS||(t+="referrer="+(""!=document.referrer?document.referrer.substring(0,parseInt(document.referrer.indexOf("?")>-1?document.referrer.indexOf("?"):document.referrer.length-1)):location.hostname+(location.pathname?location.pathname:""))),t+"&"+e}function setLocalStorageData(e){let t=new URLSearchParams(returnInputFields(e));for(let a of t.keys())window.localStorage.setItem(a,t.get(a))}checkboxes.forEach(e=>{e.addEventListener("change",updateInterests)}),updateInterests(),window.addEventListener("load",()=>{setLocationLeadSource()}),-1==location.pathname.search(/cares/gi)&&-1==location.pathname.search(/scholarship/gi)&&-1==location.pathname.search(/thank/gi)&&setTimeout(()=>{openPopupModal()},6e4),document.getElementById("modal_close_x").addEventListener("click",function(){closePopupModal()}),document.getElementById("modal_close_x").addEventListener("touch",function(){closePopupModal()}),document.getElementById("modal_background").addEventListener("click",function(){closePopupModal()}),document.getElementById("modal_background").addEventListener("touch",function(){closePopupModal()}),-1==location.pathname.search(/cares/gi)&&-1==location.pathname.search(/scholarship/gi)&&-1==location.pathname.search(/thank/gi)&&setTimeout(()=>{document.body.addEventListener("mouseleave",function(){openPopupModal()})},3e4),document.querySelectorAll("button.orange-cta-btn, button.click-for-popup").forEach(e=>{e.addEventListener("click",function(){openPopupModal(1)}),e.addEventListener("touch",function(){openPopupModal(1)})}),function(){var e="00N1P00000A2CfC",t=document.createElement("SCRIPT");t.type="text/javascript",t.async=!0,t.src="http"+("https:"==document.location.protocol?"s":"")+"://api.trustedform.com/trustedform.js?provide_referrer="+escape(!1)+"&field="+escape(e)+"&l="+(new Date).getTime()+Math.random()+"&invert_field_sensitivity=false",(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)}(),document.addEventListener("DOMContentLoaded",setFormEventListeners,!1),location.pathname.search("thank-you")>-1&&(dataLayer.push({event:"ec_formsubmit",enhanced_conversion_data:{email:window.localStorage.getItem("email"),phone_number:window.localStorage.getItem("phone"),first_name:window.localStorage.getItem("first_name"),last_name:window.localStorage.getItem("last_name"),postal_code:window.localStorage.getItem("zip")}}),window.localStorage.getItem("first_name"),window.localStorage.getItem("last_name"),window.localStorage.getItem("email"),window.localStorage.getItem("phone"),window.localStorage.getItem("zip"));let REQINPUTS={walkUpParentNodes:function(e){for(;!e.classList.contains("is-visible");)if((e=e.parentNode).classList.contains("is-visible"))return e;return!1},checkInputValueForNull:function(e){for(let t=0;t<e.length;t++)if(e[t].hasAttribute("required")&&(""==e[t].value||void 0==e[t].value))return!0;return!1},formFieldEvents:function(e,t){e.addEventListener(t,function(){let t=REQINPUTS.walkUpParentNodes(e),a=document.querySelector("#"+t.id+' [type="submit"]');!1==REQINPUTS.checkInputValueForNull(t)?a.removeAttribute("disabled"):a.setAttribute("disabled","")})},_requiredFields:[],getRequired:function(){document.querySelectorAll("form.__semper_solaris_sf_form").forEach(e=>{for(let t=0;t<e.length;t++)(e[t].hasAttribute("required")||"checkbox"==e[t].getAttribute("type"))&&REQINPUTS._requiredFields.push(e[t])})},applyEventlisteners:function(){let e=["keyup","click","touch","blur","change"];REQINPUTS._requiredFields.forEach(t=>{e.forEach(e=>{REQINPUTS.formFieldEvents(t,e),"email"==t.type&&"blur"==e&&t.addEventListener(e,emailValidator)})})},setDisabled:function(){document.querySelectorAll('[id^="submit_container"] input, [id^="submit_container"] button, input.exit-pop-up-btn').forEach(e=>{e.setAttribute("disabled","")})}};function emailValidator(e){let t=e.target,a=t.value.indexOf("@"),l=-1==a?-1:t.value.indexOf(".",a);""!=t.value&&(-1==a||-1==l)||t.value.match("noreply")||t.value.match("no-reply")?t.classList.add("email-format-error"):t.value.match("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$")&&-1!==l&&l!==t.value.length-1&&t.classList.remove("email-format-error")}function flipVisibilityVar(){exitPopUpIsVisible=!exitPopUpIsVisible}function flipIsPopup(){ispopup=!ispopup}REQINPUTS.setDisabled();export{popIsOpen,exitPopUpIsVisible,flipVisibilityVar,toggleIsVisibleClass,ispopup,flipIsPopup,emailValidator,REQINPUTS,DEVICETYPE};